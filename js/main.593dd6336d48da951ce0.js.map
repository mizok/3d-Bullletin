{"version":3,"sources":["webpack://webpack_playground/webpack/runtime/chunk loaded","webpack://webpack_playground/./src/ts/class/base.ts","webpack://webpack_playground/./src/ts/class/camera.ts","webpack://webpack_playground/./src/ts/class/dom-cube.ts","webpack://webpack_playground/./src/ts/class/env.ts","webpack://webpack_playground/./src/ts/class/playground.ts","webpack://webpack_playground/./src/ts/class/renderer.ts","webpack://webpack_playground/./src/ts/dom/chat.ts","webpack://webpack_playground/./src/ts/dom/clock.ts","webpack://webpack_playground/./src/ts/dom/index.ts","webpack://webpack_playground/./src/ts/dom/lib.ts","webpack://webpack_playground/./src/ts/dom/space-inavader.ts","webpack://webpack_playground/./src/ts/main.ts","webpack://webpack_playground/./src/ts/mesh/cube.ts","webpack://webpack_playground/./src/ts/mesh/index.ts","webpack://webpack_playground/./src/ts/resource/index.ts","webpack://webpack_playground/./src/ts/resource/textures.ts","webpack://webpack_playground/./src/ts/util/event-emitter.ts","webpack://webpack_playground/./src/ts/util/index.ts","webpack://webpack_playground/./src/ts/util/sizer.ts","webpack://webpack_playground/./src/ts/util/ticker.ts","webpack://webpack_playground/webpack/bootstrap","webpack://webpack_playground/webpack/runtime/define property getters","webpack://webpack_playground/webpack/runtime/global","webpack://webpack_playground/webpack/runtime/hasOwnProperty shorthand","webpack://webpack_playground/webpack/runtime/make namespace object","webpack://webpack_playground/webpack/runtime/node module decorator","webpack://webpack_playground/webpack/runtime/jsonp chunk loading","webpack://webpack_playground/webpack/startup"],"names":["deferred","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","Object","defineProperty","exports","Base","renderer_1","require","camera_1","util_1","three_1","resource_1","playground_1","rotationLocked","canvas","domCanvas","domBundle","sizer","Sizer","scene","Scene","scene2","ticker","Ticker","camera","Camera","renderer","Renderer","playground","Playground","touched","touchedReactDelay","initResizeMechanic","initTickMechanic","initTouchMechanic","prototype","_this","on","resize","clock","delta","getDelta","update","timeout","startLocation","Vector2","endLocation","cbStart","x","clientX","clientY","cbEnd","delay","distanceTo","clearTimeout","setTimeout","addEventListener","toggleRotationLock","status","getRotationLockStatus","getResources","_a","_b","resources","OrbitControls_js_1","base","setInstance","setControls","PerspectiveCamera","width","height","position","set","instance","add","controls","OrbitControls","enableDamping","enableZoom","enablePan","aspect","updateProjectionMatrix","DomCube","dom_1","space_inavader_1","gsap_1","clock_1","groupOuter","Group","groupInner","ready","init","chat","Chat","Clock","spaceInvader","SpaceInvader","scale","rotation","Math","PI","object","doAnimation","default","to","z","duration","paused","play","onComplete","Env","setLights","setAmbientLight","setDirectionalLight","setBackground","directionalLight","DirectionalLight","castShadow","shadow","mapSize","normalBias","ambientLight","AmbientLight","background","gradientCubeTexture","env_1","mesh_1","dom_cube_1","env","cube","Cube","domCube","CSS3DRenderer_1","setInstances","WebGLRenderer","antialias","physicallyCorrectLights","toneMappingExposure","shadowMap","enabled","type","PCFSoftShadowMap","setClearColor","instance2","CSS3DRenderer","element","sizing","setSize","setPixelRatio","pixelRatio","render","lib_1","offset","setElement","querySelector","CSS3DObject","updateOcclude","initClock","updateClock","now","Date","sec","getSeconds","min","getMinutes","hou","getHours","mo","getMonth","dy","getDate","yr","getFullYear","tags","corr","pad","i","concat","innerHTML","toString","timer","setInterval","bind","__createBinding","create","o","m","k","k2","undefined","enumerable","get","__exportStar","p","hasOwnProperty","bias","objectToward","getWorldDirection","Vector3","cameraToward","dp","dot","style","opacity","l","r","extendStatics","__extends","d","b","setPrototypeOf","__proto__","Array","String","__","constructor","cvs","dcvs","base_1","socket_io_client_1","lodash_1","Main","_super","wrapper","document","chatBlock","chatBlockActive","socket","io","initChatUI","initChatSocket","toggler","rotationLock","loginBtn","sendBtn","logoutBtn","classList","remove","myName","trim","emit","username","alert","sendMessage","confirm","evt","keyCode","data","checkIn","getElementById","userCount","checkOut","showMessage","loginWrapper","inputEle","message","html","ele","createElementFromHTML","appendChild","cloneNode","htmlString","div","createElement","firstChild","setModel","createRoundedBoxGeo","depth","radius0","smoothness","shape","Shape","eps","radius","faceRadius","absarc","geometry","ExtrudeGeometry","bevelEnabled","bevelSegments","steps","bevelSize","bevelThickness","curveSegments","center","geo","mat","MeshMatcapMaterial","matcap","cubeMatcap","group","mesh","Mesh","textures_1","textureLoader","TextureLoader","cubeTextureLoader","CubeTextureLoader","getTexture","source","res","rej","load","path","texture","name","content","getCubeTexture","paths","error","console","log","promiseArr","_i","textureSources_1","textureSources","textureSource","all","values","forEach","sourceObj","EventEmitter","callbacks","_names","callback","warn","resolveNames","_name","resolveName","namespace","off","keys","trigger","_args","finalResult","args","nameArray","names","replace","split","newName","parts","original","window","devicePixelRatio","initSizingMechanic","rect","parentElement","getBoundingClientRect","event_emitter_1","requestAnimationFrame","tick","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","id","loaded","__webpack_modules__","O","chunkIds","fn","priority","notFulfilled","Infinity","j","every","key","splice","definition","globalThis","Function","obj","prop","toStringTag","nmd","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"mappings":"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","file":"js/main.593dd6336d48da951ce0.js","sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tresult = fn();\n\t\t}\n\t}\n\treturn result;\n};","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Base = void 0;\r\nvar renderer_1 = require(\"./renderer\");\r\nvar camera_1 = require(\"./camera\");\r\nvar util_1 = require(\"../util\");\r\nvar three_1 = require(\"three\");\r\nvar resource_1 = require(\"../resource\");\r\nvar playground_1 = require(\"./playground\");\r\nvar rotationLocked = false;\r\nvar Base = /** @class */ (function () {\r\n    function Base(canvas, domCanvas, domBundle) {\r\n        this.canvas = canvas;\r\n        this.domCanvas = domCanvas;\r\n        this.domBundle = domBundle;\r\n        this.sizer = new util_1.Sizer(this.canvas);\r\n        this.scene = new three_1.Scene();\r\n        this.scene2 = new three_1.Scene();\r\n        this.ticker = new util_1.Ticker();\r\n        this.camera = new camera_1.Camera(this);\r\n        this.renderer = new renderer_1.Renderer(this);\r\n        this.playground = new playground_1.Playground(this);\r\n        this.touched = false;\r\n        this.touchedReactDelay = 2000;\r\n        this.initResizeMechanic();\r\n        this.initTickMechanic();\r\n        this.initTouchMechanic();\r\n    }\r\n    Base.prototype.initResizeMechanic = function () {\r\n        var _this = this;\r\n        this.sizer.on('resize', function () {\r\n            _this.renderer.resize();\r\n            _this.camera.resize();\r\n        });\r\n    };\r\n    Base.prototype.initTickMechanic = function () {\r\n        var _this = this;\r\n        this.ticker.on('tick', function (clock) {\r\n            var delta = clock.getDelta();\r\n            _this.renderer.update();\r\n            _this.camera.update();\r\n            _this.playground.update(delta);\r\n        });\r\n    };\r\n    Base.prototype.initTouchMechanic = function () {\r\n        var _this = this;\r\n        var startLocation = new three_1.Vector2();\r\n        var endLocation = new three_1.Vector2();\r\n        var timeout;\r\n        var cbStart = function (e) {\r\n            startLocation.x = e.clientX;\r\n            startLocation.y = e.clientY;\r\n            _this.touched = true;\r\n        };\r\n        var cbEnd = function (e) {\r\n            endLocation.x = e.clientX;\r\n            endLocation.y = e.clientY;\r\n            var delay = startLocation.distanceTo(endLocation) > 5 ? _this.touchedReactDelay : 0;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(function () {\r\n                _this.touched = false;\r\n            }, delay);\r\n        };\r\n        this.domCanvas.addEventListener('mousedown', cbStart);\r\n        this.domCanvas.addEventListener('touchstart', cbStart);\r\n        this.domCanvas.addEventListener('mouseup', cbEnd);\r\n        this.domCanvas.addEventListener('touchend', cbEnd);\r\n        this.domCanvas.addEventListener('mouseleave', cbEnd);\r\n    };\r\n    Base.prototype.toggleRotationLock = function (status) {\r\n        rotationLocked = status;\r\n    };\r\n    Base.prototype.getRotationLockStatus = function () {\r\n        return rotationLocked;\r\n    };\r\n    Base.prototype.getResources = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0:\r\n                        _a = this;\r\n                        return [4 /*yield*/, (0, resource_1.getResources)()];\r\n                    case 1:\r\n                        _a.resources = _b.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return Base;\r\n}());\r\nexports.Base = Base;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Camera = void 0;\r\nvar three_1 = require(\"three\");\r\nvar OrbitControls_js_1 = require(\"three/examples/jsm/controls/OrbitControls.js\");\r\nvar Camera = /** @class */ (function () {\r\n    function Camera(base) {\r\n        this.base = base;\r\n        this.sizer = this.base.sizer;\r\n        this.canvas = this.base.domCanvas;\r\n        this.scene = this.base.scene;\r\n        this.setInstance();\r\n        this.setControls();\r\n    }\r\n    Camera.prototype.setInstance = function () {\r\n        var camera = new three_1.PerspectiveCamera(35, this.sizer.width / this.sizer.height, 0.1, 100);\r\n        camera.position.set(-7.942670134404548, 1.246140969776503, 5.624623934002567);\r\n        // camera.position.set(0, 0, 10);\r\n        this.instance = camera;\r\n        this.scene.add(this.instance);\r\n        // //@ts-ignore\r\n        // window.cm = camera;\r\n    };\r\n    Camera.prototype.setControls = function () {\r\n        this.controls = new OrbitControls_js_1.OrbitControls(this.instance, this.canvas);\r\n        this.controls.enableDamping = true;\r\n        this.controls.enableZoom = false;\r\n        this.controls.enablePan = false;\r\n    };\r\n    Camera.prototype.resize = function () {\r\n        this.instance.aspect = this.sizer.width / this.sizer.height;\r\n        this.instance.updateProjectionMatrix();\r\n    };\r\n    Camera.prototype.update = function () {\r\n        this.controls.update();\r\n    };\r\n    return Camera;\r\n}());\r\nexports.Camera = Camera;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.DomCube = void 0;\r\nvar three_1 = require(\"three\");\r\nvar dom_1 = require(\"../dom\");\r\nvar space_inavader_1 = require(\"../dom/space-inavader\");\r\nvar gsap_1 = require(\"gsap\");\r\nvar clock_1 = require(\"../dom/clock\");\r\nvar DomCube = /** @class */ (function () {\r\n    function DomCube(base) {\r\n        this.base = base;\r\n        this.groupOuter = new three_1.Group();\r\n        this.groupInner = new three_1.Group();\r\n        this.ready = false;\r\n        this.init();\r\n    }\r\n    DomCube.prototype.init = function () {\r\n        this.chat = new dom_1.Chat(this.base);\r\n        this.clock = new clock_1.Clock(this.base);\r\n        this.spaceInvader = new space_inavader_1.SpaceInvader(this.base);\r\n        this.groupInner.scale.set(0, 0, 0);\r\n        this.groupInner.rotation.set(Math.PI / 3, Math.PI / 3, Math.PI / 3);\r\n        this.groupInner.add(this.chat.object);\r\n        this.groupInner.add(this.clock.object);\r\n        this.groupInner.add(this.spaceInvader.object);\r\n        this.groupOuter.add(this.groupInner);\r\n        this.base.scene2.add(this.groupOuter);\r\n        this.doAnimation();\r\n    };\r\n    DomCube.prototype.doAnimation = function () {\r\n        var _this = this;\r\n        gsap_1.default.to(this.groupInner.rotation, {\r\n            x: 0,\r\n            y: Math.PI / 4,\r\n            z: 0,\r\n            duration: 1,\r\n            paused: true\r\n        }).play();\r\n        gsap_1.default.to(this.groupInner.scale, {\r\n            x: 1,\r\n            y: 1,\r\n            z: 1,\r\n            duration: 2,\r\n            paused: true,\r\n            onComplete: function () {\r\n                _this.ready = true;\r\n            }\r\n        }).play();\r\n    };\r\n    DomCube.prototype.update = function (delta) {\r\n        if (!this.base.touched && !this.base.getRotationLockStatus()) {\r\n            this.groupOuter.rotation.y += delta / 5;\r\n        }\r\n        this.chat.update();\r\n        this.clock.update();\r\n        this.spaceInvader.update();\r\n    };\r\n    return DomCube;\r\n}());\r\nexports.DomCube = DomCube;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Env = void 0;\r\nvar three_1 = require(\"three\");\r\nvar Env = /** @class */ (function () {\r\n    function Env(base) {\r\n        this.base = base;\r\n        this.setLights();\r\n    }\r\n    Env.prototype.setLights = function () {\r\n        this.setAmbientLight();\r\n        this.setDirectionalLight();\r\n        this.setBackground();\r\n    };\r\n    Env.prototype.setDirectionalLight = function () {\r\n        this.directionalLight = new three_1.DirectionalLight(0xffffff, 1);\r\n        this.directionalLight.castShadow = true;\r\n        this.directionalLight.shadow.mapSize.set(2048, 2048);\r\n        this.directionalLight.shadow.normalBias = 0.05;\r\n        this.directionalLight.position.set(3.5, 2, -1.25);\r\n        this.base.scene.add(this.directionalLight);\r\n    };\r\n    Env.prototype.setAmbientLight = function () {\r\n        this.ambientLight = new three_1.AmbientLight(0xffffff, 1);\r\n        this.base.scene.add(this.ambientLight);\r\n    };\r\n    Env.prototype.setBackground = function () {\r\n        this.base.scene.background = this.base.resources.gradientCubeTexture;\r\n    };\r\n    Env.prototype.update = function (delta) {\r\n    };\r\n    return Env;\r\n}());\r\nexports.Env = Env;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Playground = void 0;\r\nvar env_1 = require(\"./env\");\r\nvar mesh_1 = require(\"../mesh\");\r\nvar dom_cube_1 = require(\"./dom-cube\");\r\nvar Playground = /** @class */ (function () {\r\n    function Playground(base) {\r\n        this.base = base;\r\n        this.ready = false;\r\n        this.init();\r\n    }\r\n    Playground.prototype.init = function () {\r\n        var _this = this;\r\n        this.base.getResources().then(function () {\r\n            _this.env = new env_1.Env(_this.base);\r\n            _this.cube = new mesh_1.Cube(_this.base);\r\n            _this.domCube = new dom_cube_1.DomCube(_this.base);\r\n            _this.ready = true;\r\n        });\r\n    };\r\n    Playground.prototype.update = function (delta) {\r\n        if (this.ready) {\r\n            this.env.update(delta);\r\n            this.cube.update(delta);\r\n            this.domCube.update(delta);\r\n        }\r\n    };\r\n    return Playground;\r\n}());\r\nexports.Playground = Playground;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Renderer = void 0;\r\nvar three_1 = require(\"three\");\r\nvar CSS3DRenderer_1 = require(\"three/examples/jsm/renderers/CSS3DRenderer\");\r\nvar Renderer = /** @class */ (function () {\r\n    function Renderer(base) {\r\n        this.base = base;\r\n        this.sizer = this.base.sizer;\r\n        this.canvas = this.base.canvas;\r\n        this.domCanvas = this.base.domCanvas;\r\n        this.scene = this.base.scene;\r\n        this.scene2 = this.base.scene2;\r\n        this.camera = this.base.camera;\r\n        this.setInstances();\r\n    }\r\n    Renderer.prototype.setInstances = function () {\r\n        //instance\r\n        this.instance = new three_1.WebGLRenderer({\r\n            canvas: this.canvas,\r\n            antialias: true\r\n        });\r\n        this.instance.physicallyCorrectLights = true;\r\n        this.instance.toneMappingExposure = 1.75;\r\n        this.instance.shadowMap.enabled = true;\r\n        this.instance.shadowMap.type = three_1.PCFSoftShadowMap;\r\n        this.instance.setClearColor(0xffffff);\r\n        //instance2\r\n        this.instance2 = new CSS3DRenderer_1.CSS3DRenderer({\r\n            element: this.domCanvas\r\n        });\r\n        this.sizing();\r\n    };\r\n    Renderer.prototype.resize = function () {\r\n        this.sizing();\r\n    };\r\n    Renderer.prototype.sizing = function () {\r\n        //instance\r\n        this.instance.setSize(this.sizer.width, this.sizer.height);\r\n        this.instance.setPixelRatio(this.sizer.pixelRatio);\r\n        //instance2\r\n        this.instance2.setSize(this.sizer.width, this.sizer.height);\r\n    };\r\n    Renderer.prototype.update = function () {\r\n        this.instance.render(this.scene, this.camera.instance);\r\n        this.instance2.render(this.scene2, this.camera.instance);\r\n    };\r\n    return Renderer;\r\n}());\r\nexports.Renderer = Renderer;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Chat = void 0;\r\nvar CSS3DRenderer_1 = require(\"three/examples/jsm/renderers/CSS3DRenderer\");\r\nvar lib_1 = require(\"./lib\");\r\nvar Chat = /** @class */ (function () {\r\n    function Chat(base) {\r\n        this.base = base;\r\n        this.offset = 1.7;\r\n        this.setElement();\r\n    }\r\n    Chat.prototype.setElement = function () {\r\n        this.element = this.base.domBundle.querySelector('#chat-main-cube');\r\n        this.object = new CSS3DRenderer_1.CSS3DObject(this.element);\r\n        this.object.position.set(0, 0, this.offset);\r\n        this.object.scale.set(1 / 160, 1 / 160, 1);\r\n    };\r\n    Chat.prototype.update = function () {\r\n        (0, lib_1.updateOcclude)(this.offset, this.element, this.object, this.base);\r\n    };\r\n    return Chat;\r\n}());\r\nexports.Chat = Chat;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Clock = void 0;\r\nvar CSS3DRenderer_1 = require(\"three/examples/jsm/renderers/CSS3DRenderer\");\r\nvar lib_1 = require(\"./lib\");\r\nvar Clock = /** @class */ (function () {\r\n    function Clock(base) {\r\n        this.base = base;\r\n        this.offset = 1.7;\r\n        this.setElement();\r\n    }\r\n    Clock.prototype.setElement = function () {\r\n        this.element = this.base.domBundle.querySelector('#clock');\r\n        this.object = new CSS3DRenderer_1.CSS3DObject(this.element);\r\n        this.object.position.set(-this.offset, 0, 0);\r\n        this.object.rotation.y = -Math.PI / 2;\r\n        this.object.scale.set(1 / 160, 1 / 160, 1);\r\n        this.initClock();\r\n    };\r\n    Clock.prototype.updateClock = function () {\r\n        var now = new Date();\r\n        var sec = now.getSeconds(), min = now.getMinutes(), hou = now.getHours(), mo = now.getMonth(), dy = now.getDate(), yr = now.getFullYear();\r\n        var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n        var tags = [\"mon\", \"d\", \"y\", \"h\", \"m\", \"s\"], corr = [months[mo], dy, yr, (0, lib_1.pad)(hou, 2), (0, lib_1.pad)(min, 2), (0, lib_1.pad)(sec, 2)];\r\n        for (var i = 0; i < tags.length; i++)\r\n            this.element.querySelector(\"#\".concat(tags[i])).innerHTML = corr[i].toString();\r\n    };\r\n    Clock.prototype.initClock = function () {\r\n        this.updateClock(); //先執行一次避免開場有破綻\r\n        this.timer = setInterval(this.updateClock.bind(this), 1000);\r\n    };\r\n    Clock.prototype.update = function () {\r\n        (0, lib_1.updateOcclude)(this.offset, this.element, this.object, this.base);\r\n    };\r\n    return Clock;\r\n}());\r\nexports.Clock = Clock;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./chat\"), exports);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.pad = exports.updateOcclude = void 0;\r\nvar three_1 = require(\"three\");\r\nfunction updateOcclude(offset, element, object, base) {\r\n    var bias = -offset / 10;\r\n    var objectToward = object.getWorldDirection(new three_1.Vector3(0, 0, 0));\r\n    var cameraToward = base.camera.instance.getWorldDirection(new three_1.Vector3(0, 0, 0));\r\n    var dp = objectToward.dot(cameraToward);\r\n    if (dp > bias) {\r\n        element.style.opacity = '0';\r\n    }\r\n    else {\r\n        element.style.opacity = '1';\r\n    }\r\n}\r\nexports.updateOcclude = updateOcclude;\r\nfunction pad(n, l) {\r\n    for (var r = n.toString(); r.length < l; r = 0 + r)\r\n        ;\r\n    return r;\r\n}\r\nexports.pad = pad;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.SpaceInvader = void 0;\r\nvar CSS3DRenderer_1 = require(\"three/examples/jsm/renderers/CSS3DRenderer\");\r\nvar lib_1 = require(\"./lib\");\r\nvar SpaceInvader = /** @class */ (function () {\r\n    function SpaceInvader(base) {\r\n        this.base = base;\r\n        this.offset = 1.7;\r\n        this.setElement();\r\n    }\r\n    SpaceInvader.prototype.setElement = function () {\r\n        this.element = this.base.domBundle.querySelector('#space-invader');\r\n        this.object = new CSS3DRenderer_1.CSS3DObject(this.element);\r\n        this.object.position.set(0, 0, -this.offset);\r\n        this.object.rotation.y = -Math.PI;\r\n        this.object.scale.set(1 / 160, 1 / 160, 1);\r\n    };\r\n    SpaceInvader.prototype.update = function () {\r\n        (0, lib_1.updateOcclude)(this.offset, this.element, this.object, this.base);\r\n    };\r\n    return SpaceInvader;\r\n}());\r\nexports.SpaceInvader = SpaceInvader;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar base_1 = require(\"./class/base\");\r\nvar socket_io_client_1 = require(\"socket.io-client\");\r\nvar lodash_1 = require(\"lodash\");\r\nvar Main = /** @class */ (function (_super) {\r\n    __extends(Main, _super);\r\n    function Main(canvas, domCanvas, domBundle) {\r\n        var _this = _super.call(this, canvas, domCanvas, domBundle) || this;\r\n        _this.wrapper = document.querySelector('#wrapper');\r\n        _this.chatBlock = document.querySelector('#chat-block');\r\n        _this.chatBlockActive = false;\r\n        _this.socket = (0, socket_io_client_1.io)('ws://192.168.1.101:5500');\r\n        _this.initChatUI();\r\n        _this.initChatSocket();\r\n        return _this;\r\n    }\r\n    Main.prototype.initChatUI = function () {\r\n        var _this = this;\r\n        var toggler = this.chatBlock.querySelector('#chat-block-toggler');\r\n        var rotationLock = this.chatBlock.querySelector('#rotation-lock');\r\n        var loginBtn = this.chatBlock.querySelector('#login-button');\r\n        var sendBtn = this.chatBlock.querySelector('#send-message-button');\r\n        var logoutBtn = this.chatBlock.querySelector('#logout-button');\r\n        toggler.addEventListener('click', function () {\r\n            if (_this.chatBlockActive) {\r\n                _this.wrapper.classList.remove('wrapper--active');\r\n            }\r\n            else {\r\n                _this.wrapper.classList.add('wrapper--active');\r\n            }\r\n            _this.chatBlockActive = !_this.chatBlockActive;\r\n        });\r\n        rotationLock.addEventListener('click', function () {\r\n            var status = _this.getRotationLockStatus();\r\n            if (status) {\r\n                rotationLock.classList.remove('chat-block__rotation-lock--active');\r\n            }\r\n            else {\r\n                rotationLock.classList.add('chat-block__rotation-lock--active');\r\n            }\r\n            _this.toggleRotationLock(!status);\r\n        });\r\n        loginBtn.addEventListener('click', function () {\r\n            _this.myName = (0, lodash_1.trim)(_this.chatBlock.querySelector('#login-name').value);\r\n            if (_this.myName) {\r\n                /*發送事件*/\r\n                _this.socket.emit('login', { username: _this.myName });\r\n            }\r\n            else {\r\n                alert('Please enter a name :)');\r\n            }\r\n        });\r\n        sendBtn.addEventListener('click', function () {\r\n            _this.sendMessage();\r\n        });\r\n        logoutBtn.addEventListener('click', function () {\r\n            var leave = confirm('Are you sure you want to leave?');\r\n            if (leave) {\r\n                /*觸發 logout 事件*/\r\n                _this.socket.emit('logout', { username: _this.myName });\r\n            }\r\n        });\r\n        document.addEventListener('keydown', function (evt) {\r\n            if (evt.keyCode == 13) {\r\n                _this.sendMessage();\r\n            }\r\n        });\r\n    };\r\n    Main.prototype.initChatSocket = function () {\r\n        var _this = this;\r\n        /*登入成功*/\r\n        this.socket.on('loginSuccess', function (data) {\r\n            if (data.username === _this.myName) {\r\n                _this.checkIn(data);\r\n            }\r\n            else {\r\n                alert('Wrong username:( Please try again!');\r\n            }\r\n        });\r\n        /*登入失敗*/\r\n        this.socket.on('loginFail', function () {\r\n            alert('Duplicate name already exists:0');\r\n        });\r\n        /*加入聊天室提示*/\r\n        this.socket.on('add', function (data) {\r\n            var html = \"<p>\".concat(data.username, \" \\u52A0\\u5165\\u804A\\u5929\\u5BA4</p>\");\r\n            // $('.chat-con').append(html);\r\n            document.getElementById('chat-title').innerHTML = \"\\u5728\\u7DDA\\u4EBA\\u6578: \".concat(data.userCount);\r\n        });\r\n        //離開成功\r\n        this.socket.on('leaveSuccess', function () {\r\n            _this.checkOut();\r\n        });\r\n        //退出提示\r\n        this.socket.on('leave', function (data) {\r\n            if (data.username != null) {\r\n                var html = \"<p>\".concat(data.username, \" \\u9000\\u51FA\\u804A\\u5929\\u5BA4</p>\");\r\n                // $('.chat-con').append(html);\r\n                // document.getElementById('chat-title').innerHTML = `在線人數: ${data.userCount}`;\r\n            }\r\n        });\r\n        //收到訊息\r\n        this.socket.on('receiveMessage', function (data) {\r\n            _this.showMessage(data);\r\n        });\r\n    };\r\n    Main.prototype.checkIn = function (data) {\r\n        var loginWrapper = this.chatBlock.querySelector('#login');\r\n        var userNameEle = this.chatBlock.querySelector('#my-name');\r\n        userNameEle.innerHTML = data.username;\r\n        loginWrapper.classList.add('login--logined');\r\n    };\r\n    Main.prototype.checkOut = function () {\r\n        var loginWrapper = this.chatBlock.querySelector('#login');\r\n        loginWrapper.classList.remove('login--logined');\r\n    };\r\n    Main.prototype.sendMessage = function () {\r\n        var inputEle = this.chatBlock.querySelector('#message-input');\r\n        var message = inputEle.value;\r\n        inputEle.value = '';\r\n        if (message) {\r\n            /*觸發 sendMessage 事件*/\r\n            this.socket.emit('sendMessage', { username: this.myName, message: message });\r\n        }\r\n    };\r\n    Main.prototype.showMessage = function (data) {\r\n        var html;\r\n        if (data.username === this.myName) {\r\n            html = \"<div class=\\\"chat-main__chat \\\">\\n                        <div class=\\\"chat-main__bubble-name\\\">You</div>\\n                        <div class=\\\"chat-main__bubble\\\">\".concat(data.message, \"</div>\\n                    </div>\\n                    \");\r\n        }\r\n        else {\r\n            html = \"<div class=\\\"chat-main__chat chat-main__chat--other\\\">\\n                        <div class=\\\"chat-main__bubble-name\\\">\".concat(data.username, \"</div>\\n                        <div class=\\\"chat-main__bubble\\\">\").concat(data.message, \"</div>\\n                    </div>\\n                    \");\r\n        }\r\n        var ele = this.createElementFromHTML(html);\r\n        this.chatBlock.querySelector('#chat-main').appendChild(ele);\r\n        this.wrapper.querySelector('#chat-main-cube .chat-main__inner').appendChild(ele.cloneNode(true));\r\n    };\r\n    Main.prototype.createElementFromHTML = function (htmlString) {\r\n        var div = document.createElement('div');\r\n        div.innerHTML = htmlString.trim();\r\n        // Change this to div.childNodes to support multiple top-level nodes.\r\n        return div.firstChild;\r\n    };\r\n    return Main;\r\n}(base_1.Base));\r\n(function () {\r\n    var cvs = document.querySelector('#canvas');\r\n    var dcvs = document.querySelector('#dom-canvas');\r\n    var domBundle = document.querySelector('#dom-bundle');\r\n    var instance = new Main(cvs, dcvs, domBundle);\r\n})();\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Cube = void 0;\r\nvar gsap_1 = require(\"gsap\");\r\nvar three_1 = require(\"three\");\r\nvar Cube = /** @class */ (function () {\r\n    function Cube(base) {\r\n        this.base = base;\r\n        this.ready = false;\r\n        this.setModel();\r\n    }\r\n    Cube.prototype.createRoundedBoxGeo = function (width, height, depth, radius0, smoothness) {\r\n        var shape = new three_1.Shape();\r\n        var eps = 0.00001;\r\n        var radius = radius0 - eps;\r\n        var faceRadius = 0.25;\r\n        shape.absarc(eps, eps, faceRadius, -Math.PI / 2, -Math.PI, true);\r\n        shape.absarc(eps, height - radius * 2, faceRadius, Math.PI, Math.PI / 2, true);\r\n        shape.absarc(width - radius * 2, height - radius * 2, faceRadius, Math.PI / 2, 0, true);\r\n        shape.absarc(width - radius * 2, eps, faceRadius, 0, -Math.PI / 2, true);\r\n        var geometry = new three_1.ExtrudeGeometry(shape, {\r\n            depth: depth - radius0,\r\n            bevelEnabled: true,\r\n            bevelSegments: smoothness * 2,\r\n            steps: 1,\r\n            bevelSize: radius,\r\n            bevelThickness: radius0,\r\n            curveSegments: smoothness\r\n        });\r\n        geometry.center();\r\n        return geometry;\r\n    };\r\n    Cube.prototype.setModel = function () {\r\n        var geo = this.createRoundedBoxGeo(3, 3, 3, 0.4, 20);\r\n        var mat = new three_1.MeshMatcapMaterial({\r\n            matcap: this.base.resources.cubeMatcap\r\n        });\r\n        this.group = new three_1.Group();\r\n        this.mesh = new three_1.Mesh(geo, mat);\r\n        this.mesh.scale.set(0, 0, 0);\r\n        this.mesh.rotation.set(Math.PI / 3, Math.PI / 3, Math.PI / 3);\r\n        this.group.add(this.mesh);\r\n        this.base.scene.add(this.group);\r\n        this.doAnimation();\r\n    };\r\n    Cube.prototype.doAnimation = function () {\r\n        var _this = this;\r\n        gsap_1.default.to(this.mesh.rotation, {\r\n            x: 0,\r\n            y: Math.PI / 4,\r\n            z: 0,\r\n            duration: 1,\r\n            paused: true\r\n        }).play();\r\n        gsap_1.default.to(this.mesh.scale, {\r\n            x: 1,\r\n            y: 1,\r\n            z: 1,\r\n            duration: 2,\r\n            paused: true,\r\n            onComplete: function () {\r\n                _this.ready = true;\r\n            }\r\n        }).play();\r\n    };\r\n    Cube.prototype.update = function (delta) {\r\n        if (!this.base.touched && !this.base.getRotationLockStatus()) {\r\n            this.group.rotation.y += delta / 5;\r\n        }\r\n    };\r\n    return Cube;\r\n}());\r\nexports.Cube = Cube;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./cube\"), exports);\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.getResources = void 0;\r\nvar textures_1 = require(\"./textures\");\r\nvar three_1 = require(\"three\");\r\nvar textureLoader = new three_1.TextureLoader();\r\nvar cubeTextureLoader = new three_1.CubeTextureLoader();\r\nvar getTexture = function (source) {\r\n    var prm = new Promise(function (res, rej) {\r\n        textureLoader.load(source.path, function (texture) {\r\n            res({\r\n                name: source.name,\r\n                content: texture\r\n            });\r\n        }, null, rej);\r\n    });\r\n    return prm;\r\n};\r\nvar getCubeTexture = function (source) {\r\n    var prm = new Promise(function (res, rej) {\r\n        cubeTextureLoader.load(source.paths, function (texture) {\r\n            res({\r\n                name: source.name,\r\n                content: texture\r\n            });\r\n        }, null, function (error) { console.log(error); });\r\n    });\r\n    return prm;\r\n};\r\nvar getResources = function () {\r\n    var promiseArr = [];\r\n    for (var _i = 0, textureSources_1 = textures_1.textureSources; _i < textureSources_1.length; _i++) {\r\n        var textureSource = textureSources_1[_i];\r\n        switch (textureSource.type) {\r\n            case 'cubeTexture':\r\n                promiseArr.push(getCubeTexture(textureSource));\r\n                break;\r\n            case 'texture':\r\n                promiseArr.push(getTexture(textureSource));\r\n                break;\r\n        }\r\n    }\r\n    return Promise.all(promiseArr).then(function (values) {\r\n        var result = {};\r\n        values.forEach(function (sourceObj) {\r\n            result[sourceObj.name] = sourceObj.content;\r\n        });\r\n        return result;\r\n    });\r\n};\r\nexports.getResources = getResources;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.textureSources = void 0;\r\nexports.textureSources = [\r\n    {\r\n        name: 'gradientCubeTexture',\r\n        type: 'cubeTexture',\r\n        paths: [\r\n            './assets/images/cubemap/gs-gradient/px.png',\r\n            './assets/images/cubemap/gs-gradient/nx.png',\r\n            './assets/images/cubemap/gs-gradient/py.png',\r\n            './assets/images/cubemap/gs-gradient/ny.png',\r\n            './assets/images/cubemap/gs-gradient/pz.png',\r\n            './assets/images/cubemap/gs-gradient/nz.png'\r\n        ]\r\n    },\r\n    {\r\n        name: 'cubeMatcap',\r\n        type: 'texture',\r\n        path: './assets/images/matcap/BlackRough.png'\r\n    }\r\n];\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EventEmitter = void 0;\r\nvar EventEmitter = /** @class */ (function () {\r\n    function EventEmitter() {\r\n        this.callbacks = {};\r\n        this.callbacks = {};\r\n        this.callbacks.base = {};\r\n    }\r\n    EventEmitter.prototype.on = function (_names, callback) {\r\n        var _this = this;\r\n        // Errors\r\n        if (typeof _names === 'undefined' || _names === '') {\r\n            console.warn('wrong names');\r\n            return false;\r\n        }\r\n        if (typeof callback === 'undefined') {\r\n            console.warn('wrong callback');\r\n            return false;\r\n        }\r\n        // Resolve names\r\n        var names = this.resolveNames(_names);\r\n        // Each name\r\n        names.forEach(function (_name) {\r\n            // Resolve name\r\n            var name = _this.resolveName(_name);\r\n            // Create namespace if not exist\r\n            if (!(_this.callbacks[name.namespace] instanceof Object))\r\n                _this.callbacks[name.namespace] = {};\r\n            // Create callback if not exist\r\n            if (!(_this.callbacks[name.namespace][name.value] instanceof Array))\r\n                _this.callbacks[name.namespace][name.value] = [];\r\n            // Add callback\r\n            _this.callbacks[name.namespace][name.value].push(callback);\r\n        });\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.off = function (_names) {\r\n        var _this = this;\r\n        // Errors\r\n        if (typeof _names === 'undefined' || _names === '') {\r\n            console.warn('wrong name');\r\n            return false;\r\n        }\r\n        // Resolve names\r\n        var names = this.resolveNames(_names);\r\n        // Each name\r\n        names.forEach(function (_name) {\r\n            // Resolve name\r\n            var name = _this.resolveName(_name);\r\n            // Remove namespace\r\n            if (name.namespace !== 'base' && name.value === '') {\r\n                delete _this.callbacks[name.namespace];\r\n            }\r\n            // Remove specific callback in namespace\r\n            else {\r\n                // Default\r\n                if (name.namespace === 'base') {\r\n                    // Try to remove from each namespace\r\n                    for (var namespace in _this.callbacks) {\r\n                        if (_this.callbacks[namespace] instanceof Object &&\r\n                            _this.callbacks[namespace][name.value] instanceof Array) {\r\n                            delete _this.callbacks[namespace][name.value];\r\n                            // Remove namespace if empty\r\n                            if (Object.keys(_this.callbacks[namespace]).length === 0)\r\n                                delete _this.callbacks[namespace];\r\n                        }\r\n                    }\r\n                }\r\n                // Specified namespace\r\n                else if (_this.callbacks[name.namespace] instanceof Object &&\r\n                    _this.callbacks[name.namespace][name.value] instanceof Array) {\r\n                    delete _this.callbacks[name.namespace][name.value];\r\n                    // Remove namespace if empty\r\n                    if (Object.keys(_this.callbacks[name.namespace]).length === 0)\r\n                        delete _this.callbacks[name.namespace];\r\n                }\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    EventEmitter.prototype.trigger = function (_name, _args) {\r\n        var _this = this;\r\n        // Errors\r\n        if (typeof _name === 'undefined' || _name === '') {\r\n            console.warn('wrong name');\r\n            return false;\r\n        }\r\n        var finalResult = null;\r\n        var result = null;\r\n        // Default args\r\n        var args = !(_args instanceof Array) ? [] : _args;\r\n        // Resolve names (should on have one event)\r\n        var nameArray = this.resolveNames(_name);\r\n        // Resolve name\r\n        var name = this.resolveName(nameArray[0]);\r\n        // Default namespace\r\n        if (name.namespace === 'base') {\r\n            // Try to find callback in each namespace\r\n            for (var namespace in this.callbacks) {\r\n                if (this.callbacks[namespace] instanceof Object &&\r\n                    this.callbacks[namespace][name.value] instanceof Array) {\r\n                    this.callbacks[namespace][name.value].forEach(function (callback) {\r\n                        result = callback.apply(_this, args);\r\n                        if (typeof finalResult === 'undefined') {\r\n                            finalResult = result;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        // Specified namespace\r\n        else if (this.callbacks[name.namespace] instanceof Object) {\r\n            if (name.value === '') {\r\n                console.warn('wrong name');\r\n                return this;\r\n            }\r\n            this.callbacks[name.namespace][name.value].forEach(function (callback) {\r\n                result = callback.apply(_this, args);\r\n                if (typeof finalResult === 'undefined')\r\n                    finalResult = result;\r\n            });\r\n        }\r\n        return finalResult;\r\n    };\r\n    EventEmitter.prototype.resolveNames = function (_names) {\r\n        var names = _names;\r\n        names = names.replace(/[^a-zA-Z0-9 ,/.]/g, '');\r\n        names = names.replace(/[,/]+/g, ' ');\r\n        names = names.split(' ');\r\n        return names;\r\n    };\r\n    EventEmitter.prototype.resolveName = function (name) {\r\n        var newName = {};\r\n        var parts = name.split('.');\r\n        newName.original = name;\r\n        newName.value = parts[0];\r\n        newName.namespace = 'base'; // Base namespace\r\n        // Specified namespace\r\n        if (parts.length > 1 && parts[1] !== '') {\r\n            newName.namespace = parts[1];\r\n        }\r\n        return newName;\r\n    };\r\n    return EventEmitter;\r\n}());\r\nexports.EventEmitter = EventEmitter;\r\n","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__exportStar(require(\"./event-emitter\"), exports);\r\n__exportStar(require(\"./ticker\"), exports);\r\n__exportStar(require(\"./sizer\"), exports);\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Sizer = void 0;\r\nvar event_emitter_1 = require(\"./event-emitter\");\r\nvar Sizer = /** @class */ (function (_super) {\r\n    __extends(Sizer, _super);\r\n    function Sizer(canvas) {\r\n        var _this = _super.call(this) || this;\r\n        _this.canvas = canvas;\r\n        _this.pixelRatio = Math.min(window.devicePixelRatio, 2);\r\n        _this.initSizingMechanic();\r\n        return _this;\r\n    }\r\n    Sizer.prototype.initSizingMechanic = function () {\r\n        this.sizing();\r\n        window.addEventListener('resize', this.sizing.bind(this));\r\n    };\r\n    Sizer.prototype.sizing = function () {\r\n        var rect = this.canvas.parentElement.getBoundingClientRect();\r\n        this.width = rect.width;\r\n        this.height = rect.height;\r\n        this.trigger('resize', [this.width, this.height]);\r\n    };\r\n    return Sizer;\r\n}(event_emitter_1.EventEmitter));\r\nexports.Sizer = Sizer;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Ticker = void 0;\r\nvar event_emitter_1 = require(\"./event-emitter\");\r\nvar three_1 = require(\"three\");\r\nvar Ticker = /** @class */ (function (_super) {\r\n    __extends(Ticker, _super);\r\n    function Ticker() {\r\n        var _this = _super.call(this) || this;\r\n        _this.clock = new three_1.Clock();\r\n        window.requestAnimationFrame(function () {\r\n            _this.tick();\r\n        });\r\n        return _this;\r\n    }\r\n    Ticker.prototype.tick = function () {\r\n        var _this = this;\r\n        this.trigger('tick', [this.clock]);\r\n        window.requestAnimationFrame(function () {\r\n            _this.tick();\r\n        });\r\n    };\r\n    return Ticker;\r\n}(event_emitter_1.EventEmitter));\r\nexports.Ticker = Ticker;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwebpack_playground\"] = self[\"webpackChunkwebpack_playground\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [736], () => (__webpack_require__(7310)))\n__webpack_require__.O(undefined, [736], () => (__webpack_require__(2367)))\n__webpack_require__.O(undefined, [736], () => (__webpack_require__(142)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [736], () => (__webpack_require__(1163)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}